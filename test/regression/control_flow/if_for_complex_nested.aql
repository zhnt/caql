// Complex nesting: if-for-if-for
let matrix_sum = 0

if 1 == 1 {
    print("Processing matrix")
    for row = 1, 3, 1 {
        let row_sum = 0
        if row % 2 == 1 {
            print("Odd row: " + string(row))
            for col = 1, 3, 1 {
                let value = row * 10 + col
                if value > 15 {
                    print("Large value: " + string(value))
                    row_sum = row_sum + value
                } else {
                    print("Small value: " + string(value))
                    row_sum = row_sum + value * 2
                }
            }
        } else {
            print("Even row: " + string(row))
            for col = 1, 3, 1 {
                let value = row * 10 + col
                row_sum = row_sum + value
                print("Value: " + string(value))
            }
        }
        print("Row sum: " + string(row_sum))
        matrix_sum = matrix_sum + row_sum
    }
    print("Matrix sum: " + string(matrix_sum))
} else {
    print("Skipping matrix processing")
}

print("Complex nesting test done")
